<!DOCTYPE html>
<html lang="en"><head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
<!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/shared/IDEAS-developments/template-columbia/_assets/thirdpartylib/bootstrap-4.3.1/css/bootstrap.min.css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="/shared/IDEAS-developments/template-columbia/_assets/thirdpartylib/fontawesome-free-5.9.0-web/css/all.min.css">
    <!-- Template CSS -->
    <link rel="stylesheet" href="/shared/IDEAS-developments/template-columbia/_assets/css/styles.min.css">
    <link rel="stylesheet" href="/shared/IDEAS-developments/template-columbia/_assets/css/custom.css">

    <!-- Able Player Dependencies-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/shared/videos/ableplayer/thirdparty/js.cookie.js"></script>
    <link rel="stylesheet" href="/shared/videos/ableplayer/build/ableplayer.min.css" type="text/css">
    <script src="/shared/videos/ableplayer/build/ableplayer.min.js"></script>
    <script src="https://player.vimeo.com/api/player.js"></script>
    <script src="https://cdnapisec.kaltura.com/p/823192/sp/82319200/embedIframeJs/uiconf_id/46847663/partner_id/823192"></script>
    <script src="/shared/videos/ableplayer/ablefier.js"></script>
    <style>
          h3 {
			  font-style: italic;
		  }
		  pre {
			  font-weight: bold;
		  }
    </style>
<title>Lesson 4: Type Casting</title>
</head><body><div class="container-fluid">
<div class="row">
<div class="col-12 banner-img">
<p><img src="img/banner.jpg" alt="banner" width="1140" height="294"></p>
</div>
<div class="col-sm-10 offset-sm-1">
<h1>Lesson 4: Type Casting</h1>
<div class="alert alert-secondary">NOTE: This is a summary of chapter 2, sections 2.2 and 2.3 in the textbook.</div>
<h2>Converting Between Unsigned and Signed</h2>
<p>When <b>typecasting</b> (changing from one type to another type), the computer keeps the equivalent bit pattern and just changes how the bits are interpreted. This can lead to several problems.</p>
<p>When going from same-sized (number of bits) signed to unsigned, if the signed value is guaranteed to be positive there is no problem as the bit pattern is the same for positive numbers between signed and unsigned. However, if the signed number turns out to be negative the result will be a positive number not even in the same ballpark. For small negative numbers, the result ends up being a very large positive number.</p>
<figure class="float-center figure-border"><img src="img/typecastsignedtoun.png" alt="typecasting from signed to unsigned">
<figcaption>typecasting from signed to unsigned</figcaption>
</figure>
<div class="clearfix"></div>
<p>Even with positive, the results may be wrong if going from an unsigned to a signed. Remember that even though the range for signed is exactly the same size, half of that range has been assigned to the negative numbers, so the positive numbers top out lower. So if the number is larger than <code>TMAX</code>, there will be overflow with incorrect results. In fact, the positive number is interpreted as a negative number because the leftmost bit is 1.</p>
<figure class="float-center figure-border"><img src="img/typecastuntosigned.png" alt="typecasting from unsigned to signed">
<figcaption>typecasting from unsigned to signed</figcaption>
</figure>
<div class="clearfix"></div>
<p></p>
<h2>Typecasting From Smaller to Larger: Expanding Numbers</h2>
<p>Changing numbers from smaller to larger sizes requires expanding the larger number by adding bits to the left of the smaller number to create a larger number. For unsigned numbers, this is done by adding zeros. This is called <b>zero extension</b>.</p>
<p>For signed numbers, the left bits are filled in with whatever the left-most bit of the original smaller number was. This is called <b>sign extension</b> and is similar to the right shift's arithmetic shift. This is done to preserve the sign and magnitude of negative values.</p>
<figure class="float-center figure-border"><img src="img/typecastsmalltolarge.png" alt="typecasting from small to larger">
<figcaption>from bit pattern to number</figcaption>
</figure>
<div class="clearfix"></div>
<p></p>
<h2>Typecasting from Larger to Smaller: Truncation</h2>
<p>For changing a larger number to a smaller number, the leftmost bits get ignored. this is called <b>truncation</b>. This works well with values that fit into the new smaller size since the sign and magnitude are preserved for signed number. However, this becomes a garbage value if the value doesn't fit into the smaller range. We'll talk about this condition, called <b>overflow</b>, in the next lecture.</p>
<figure class="float-center figure-border"><img src="img/typecastlargetosmall.png" alt="typecasting from large to smaller">
<figcaption>from bit pattern to number</figcaption>
</figure>
<div class="clearfix"></div>
<p></p>
<h2>Implicit typecasting With Mixed Signed and Unsigned Values</h2>
<p>When doing arithmetic or doing comparisons, the compiler does <b>implicit typecasting</b> when there is a mixture of signed and unsigned values. If any operands are unsigned then all other operands are typecasted to an unsigned value. This has weird unpredictable results when doing math or doing comparisons. It is recommended not to allow the compiler to make a decision about typecasting especially when doing comparisons (see textbook for some interesting affects).</p>
<h2><img src="/shared/IDEAS-developments/template-columbia/_assets/icons/lightbulb.svg" alt="" title="" style="padding-right: 10px; max-width: 100%;" data-d2l-editor-default-img-style="true" width="70px">Practice Problems</h2>
<p>Use these practice problems to check your understanding of the content you've been reading. You can try and retry these practice problems as much as you'd like.&nbsp;</p>
<p><iframe src="/d2l/common/dialogs/quickLink/quickLink.d2l?ou=592324&amp;type=lti&amp;rCode=PCCD-6259586" title="M2 L4" allowfullscreen="allowfullscreen" allow="microphone *; camera *; autoplay *" height="600" width="779"></iframe></p>
<footer>End of Lesson 4: Type Casting</footer></div>
</div>
</div></body></html>